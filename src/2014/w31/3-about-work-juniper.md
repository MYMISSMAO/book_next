---
title: 谈谈工作 - Juniper北京研发中心
author: [程序君]
keywords: [成长, 工作]
---

# 谈谈工作 - Juniper北京研发中心

Juniper对我职业生涯，甚至人生的影响，怎么说都不过分 —— 这并非我寄人篱下，不得不多少好话，而确是真心实意的肺腑之言。做公司就是做人，我在Juniper收获最大的认识了各种各样优秀而伟大的人，从他们身上汲取知识和力量。

## 序言：不得不提的Netscreen

要讲Juniper的北京研发中心（以下简称cnrd），不得不提一家很伟大的公司，曾经是网络安全领域的翘楚，湾区华人圈的骄傲 —— Netscreen。Netscreen由邓锋，柯严，谢青三位来自清华的校友于97年共同创立，01年IPO，04年以40亿美元被Juniper收购。收购之前，柯严他们正在筹划cnrd，作为Netscreen在国内的一个研发据点；被Juniper收购后，这个研发中心开始正式运作，到现在为止，做的主要还是Netscreen那套和network security相关的东西。

有关Netscreen的传奇故事，我非常建议去读两位大牛的连载：

1) Netscreen的kernel大牛，一半程序员一半诗人的陈怀临（Mike Ji）同学的博客：[中国人在硅谷--NetScreen的故事](http://blog.sina.com.cn/s/blog_62149f830100enn0.html)。

2) 前cnrd老大，前hillstone CEO Jian Tong（Jackson）的回忆录：[Netscreen的岁月](http://wenku.baidu.com/view/920103fec8d376eeaeaa313d.html)

Netscreen出来的人有多牛，看看这份清单：

1) 邓锋，柯严，谢青自不必说，创办了Netscreen。

2) 谢青2000年离开Netscreen，创办了Fortinet，09年上市。13年，谢青当选美国工程院院士。企业家和科学家，他占全了。

3) 邓锋，柯严05年回国创立了北极光创投。

4) 毛宇明05年离开Juniper，加盟刚成立的，也是由Netscreen前员工创立的Palo Alto Network（PAN），成为其首席架构师。PAN于12年上市。

5) 黄光松（老黄）05年离开Juniper，创办Sigma Resources & Technologies。

6) 童建（Jackson），罗东平06年离开Juniper，创办Hillstone。

7) 刘长明06年离开Juniper，创办AeroHive，14年上市。

8) Roger Lian 06年离开Juniper，加盟Achiva做CTO，后又创办vArmour（13年获得6M USD A轮融资）

如果paypal出来的那帮人能够被称得上PayPal Mafia（见wikipedia），那么Netscreen这群人也可算是当之无愧的Netscreen Mafia，邓锋柯严就是「匪首」，北极光的钱大把撒出去，在网络设备领域和互联网领域播下了非常可观的种子。这份清单并非完整的列表，仅为我所知的中国工程师的传奇；它并不包括我几个前同事前老板的还在筹备中的项目或者处于非常早期的项目，由于种种原因，这里就不展开。另外，还有一些暂时失败或者发展不顺利的项目，如陈怀临的读图时代（基于weibo的图片社区），Hawk Xiong的百米（生活服务）。当然我的途客圈，勉强也能在此凑个数，就如同任我行口中的那「三个半」中的半个 —— 话说回来，三年前我能走上创业的道路，很大程度上得益于在cnrd受到这一帮Netscreen的「老人」的耳濡目染。

## 初入cnrd

05年下半年加入cnrd时，我是正在大力发展的ScreenOS团队的第12人（大致）。一位叫Jacky帅小伙成了我的mentor，手把手教我学用vim，和熟悉SunOS（Solaris）。在Unix下开发对于原来主要在windows下开发的我如同打开了一扇门，从此我便与windows渐行渐远，再也没有回到那个开发环境下。我知道如果再多说一句也会引发系统之争，但我还是要说一句，除非为windows下写客户端，否则开发一定不要在windows下进行（实际上现在通过类似node-webkit的工具，写windows客户端也不必在windows下），osx是首选，linux各种发行版次之。

cnrd在成立之初定位就和很多外企在中国的R&D不同，这大概和Netscreen极其中国人的背景有关。很多外企的中国团队是个本地化团队，为本土的销售服务，做的是类似于界面中文化，解决中国客户的需求等等工作。cnrd不同，它的最初定位是美国团队的一个extension，所以我们一开始干的就是国际化的活。cnrd的前site manager Frank不止一次提到，要在中国培养出一批做security的人才。我想，这也是柯严他们的初心。

除了unix的工作环境，加盟初期对我最大的挑战还有英语。书面语言全部是英语，只要有华人以外的人出现，会议一律用英语，这是cnrd不成文的规定。在神码我还相对自信的英语，到了这成了上不得台面的三脚猫功夫。口语的进步并非一日之功，但书面英语总有取巧的地方 —— 人类学习语言的过程，不就是模仿模仿再模仿么？于是我如饥似渴地阅读每一封邮件，看看大家日常用语，照猫画虎呗。说起来好笑，我那时用一个笔记本软件，见到觉得好的句子或短语就抄下来以备后用。现在看来极其平常的语句，如 "at your earliest convenience"，"feel free to / don't hesitate to"，"on the same
page"，当时都被我奉为圭臬。

# Andrew 和 Meng

有天我正在那苦苦学习代码，Andrew，customer escalation部门的manager，一个台湾人，突然过来问我有没有空帮忙看一个比较着急的case。在Juniper，customer escalation永远放在第一位，遇到紧急的问题，基本就是中美（或者印美）两个site间接力，有点产业工人三班倒的味道。那个case来了好几天之后美国工程师在他们的工作时间没看出什么名堂，Andrew有些着急，抱着多一双眼睛多一份把握的心态，将其转由中国工程师临时看。Andrew找到我，比较莫名其妙，因为当时我还在艰难地适应环境中。

问题我反反复复看了好几遍才勉强看懂，代码则是两眼一抹黑，根本不知道在说什么。我在神码做的是协议，control plane相关的事情，到cnrd虽然还没具体分配，但看的都是data plane的内容。control plane你啃下了协议，代码便比较地一目了然；data plane一来你要非常清楚architecture，二来你要懂各种使用场景，因为除了主干，data plane的繁茂枝叶很大程度上是case by case构建起来的。我还没有这样的沉淀，自然看不懂代码。作为一个程序员，看不懂代码是可耻的，隐藏自己的不懂，不懂装懂更可耻。新人的好处是脸皮儿厚，所以我便周围一圈人呼啦啦问。但周围的人大多资历跟我相仿，早来一两个月或者两三个月面对这样的问题自不顶事。问着问着我就问到了刚刚出差来cnrd的Meng的头上。Meng是典型的清华人，话不多，句句戳中要害。带着他对基础知识的介绍和对问题的分析，我大概弄明白了问题产生的原因。可我不会解。这感觉就和你能把linux的page fault handling说得头头是道，但里面出个问题你还是不会fix一样一样的。不过，经过大半天的努力，我已经攒够了足够的资本写邮件，把接力棒再传回去。

冥冥中自有天意。写邮件的时候，我试图多发掘一些线索，于是看了看 cvs log。结果发现之前有类似的bug。我便进入bug tracking system（BTS），找到对应的bug，然后再从其关联的bug中一层层找，找到了一个比较新的fix。我看了看当前的代码，确信新的fix并未port回当前的branch。

于是我就把这好消息 —— 我找到了一个potential fix —— 汇报给了Meng和Andrew。他们先是大吃一惊，确认了这是个fix后，Andrew就发了一封邮件，圈了一堆大佬，把我吹得天花乱坠。不要小看表扬这点小事，如果你是老板，员工干了值得祝贺的好事，别藏着掖着，发封热情洋溢的邮件把相关的人抄上满世界表扬，绝对没错，这会让员工充满战斗力。所谓士为知己者死，大抵如此。

# Murphy

Murphy是我在Juniper的第一任老板，负责ScreenOS下面的data plane。他身上有很多好老板的影子，如干练，成熟稳重，待人谦和，并不居功等等，总之把事情交给他便不用操心。我那时还是个毛糙的小子，受了他不少影响，做事开始有条理起来。后来shalang谈起我说我非常 "organized"，其实就是这个阶段受了Murphy的影响。为了尽快建立一支能征善战的队伍，除了日常的工作安排外，他每天组织大家code study，一段一段code拿出来生啃。当时cnrd的ScreenOS team其实是个比较尴尬的角色，建立初期，一方面还没法完成像样的工作来证明自己，另一方面它的成功其实会影响到美国对应的团队的job security —— 或者至少，一些新的工作机会会放在中国而不是美国。对于任何一个有进取心的个人或老板，这其实是种机会的冻结 —— 团队如果不能保持增长，则意味着工作舞台的天花板开始封闭起来。

总之我们一边自己生啃代码，一边把无法想明白的问题积攒起来，由Murphy向美国team请教。

我那时在team里不算突出的，经验少，但我有我的优势 —— 年轻好学。年轻其实是一种心态，而非年龄。二十岁的人如果抱残守缺，觉得我这辈子就这样了，那并不见得比六十岁的人「年轻」。

它不像platform team在做新产品，而是和美国的ScreenOS team抢饭碗。
